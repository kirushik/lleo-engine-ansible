<?php

$fchmod=0644; //create files with permissions
$dchmod=0755; //create folders with permissions

$mnogouser=0; // 1 - включить многопользовательский режим движка (если 0 - стэндалон)
$xdomain='x';
$mnogouser_html=0; // разрешить html юзерам

$a="1"; if(ini_get('register_globals')!=false) foreach(array_merge($_GET,$_POST,$_REQUEST,$_COOKIE) as $n=>$l) unset(${$n});

# Первоочередные параметры

# хэш пароля админа (сам пароль не хранится! при инсталляции переменная должна быть пустой, потом скрипт сам скажет, что вписать!)
	$admin_hash="";

# хостинг
	$httpsite = "http://{{ hostname }}"; // "http://lleo.aha.ru";
	$blogdir = ""; // "blog/";

# параметры mysql
	$msq_host = ""; // "localhost";
	$msq_login = ""; // "lleo";
	$msq_pass = ""; // "fRdВtn23jNM1";
	$msq_basa = ""; // "lleoblog";
	$msq_charset = "cp1251";

# имя блога
	$admin_name = ""; // "Леонид Каганов";
	$admin_mail = ""; // "lleo@aha.ru";
	$blog_name = ""; // "lleo.aha.ru";
	$admin_site = ""; // "lleo.aha.ru"; // для формы поиска по яндексу - сюда можно записать не сайт, а блог

	$admin_ljuser=""; // "ЖЖ для скачивания или репостинга, например lleo-kaganov";
	$admin_ljpass=""; // "пароль ЖЖ для постинга заметок";

	$rootpage = ''; // страница, которая открывается в корне (если пустая - откроется последняя заметка блога)

	$rekomenda_pass = "_md5_"; // пароль для модуля REKOMENDA

$signature = "&copy; ".$admin_name."&nbsp;&nbsp;<a href='mailto:".$admin_mail."'>".$admin_mail."</a>";

$redirect_www = 1; // если включить - будет редиректить все обращения http://www. на обычное http://

# строка для хэширования пароля (любая, от балды)
	$koldunstvo = "_md5_"; // "у опушки продала лиса волнушки";
	$hashinput = "_md5_"; // "всякая дурь всякая дурь"; // строка для вывода хэшиков каждой страницы
	$hashlogin = "_md5_"; // "прамамамамама"; // допаролька - залогиненные юзеры
        $newhash_user = "_md5_"; // "прамамамамама"; // допаролька - залогиненные юзеры

$passip=0; // кодирование админского пароля через IP

$admin_hash1 = '';
$koldunstvo1 = "_md5_";
$readru_api='';
$readru_partner='';

	// $cookie_method_old = true; // включить, чтобы была старая система кук
	// if(stristr($_SERVER["HTTP_USER_AGENT"],'Nokia') or stristr($_SERVER["HTTP_USER_AGENT"],'konquer') ) $cookie_method_old=true;

# Если установлен и работает memcache - пытаемся подключиться к нему
$memcache=function_exists('memcache_connect'); if($memcache and ($a=intval(ini_get('memcache.default_port')))) $memcache=memcache_connect('localhost',$a);

$ttl=60; // параметр хранения memcache (кэш для не-админов)
$ahtung=0; // флаг захлебывания сервера от нагрузки
$ttl_longsite = 10000; // длинное хранение данных

$editor_width = 1000; // количество пикселей по ширине в окне редактора заметки
$editor_height = 900; // количество пикселей по высоте в окне редактора заметки
$old_counter = 0; // 1 - учитывать данные счетчика посещений старой версии блога, 0 - не учитывать, работать по новому

# настройки RSS блога
$RSSZ_skip = 10; // сколько выдавать за раз в RSS записей
$RSSC_skip = 30; // сколько выдавать за раз в RSS комментариев
$RSSZ_mode = 0; // 0 - выдавать полный текст в rss, 1 - только начальный абзац

# место, где система хранит директорию блога
# $host = "/home/lleo/www/";
$host = rtrim($_SERVER["DOCUMENT_ROOT"],'/').'/';
$wwwhost = "/".$blogdir; // адрес блога относительно родного сервера (/dnevnik/)
$httphost = $httpsite.$wwwhost; // полный адрес блога (http://lleo.aha.ru/dnevnik/)
$filehost = $host.$blogdir; // физический адрес файла на сервере
$wwwtmp = $wwwhost."tmp/"; // адрес временных файлов
$hosttmp = $filehost."tmp/"; // путь до временных файлов
$cookie_site = ""; // на каком домене оставлять куки

# параметры нежелательные для изменения
$host_log = $filehost."log/"; // сюда будут писаться логи
$cronfile = $host_log."cron.flag"; // индикатор крона
$cache_get = true; // включить файловое кэширование (включается разработчиком только для отладки!)
$wwwcharset = "windows-1251"; // кодировка страниц блога
$syscharset = "koi8-r"; // кодировка файловой системы сервера
$include_sys = $filehost."include_sys/"; // директория, где лежат системные модули
$include_blog = $filehost."include_blog/"; // директория, где лежат модули блога
$host_design = $filehost."design/"; // директория, где лежит дизайн
$www_design = $wwwhost."design/"; // директория, где лежит дизайн
$host_module = $filehost."module/"; // директория, где лежат модули
$www_ico = $wwwhost."design/ico/"; // директория, где лежат иконки

$www_css = $wwwhost."css/"; // директория, где лежат CSS
$file_css = $filehost."css/"; // директория, где лежат CSS
$www_js = $wwwhost."js/"; // директория, где лежат JS
$www_ajax = $wwwhost."ajax/"; // директория, где лежит AJAX
$file_template = $filehost."template/"; // директория, где лежат CSS

############ правки ###########################################################################
$db_pravka='pravki'; // имя таблицы MySQL, куда складывать правки.
$pravka_paranoid=true; // true - записывать в базу даже собственные правки, чтобы после можно было отменить
$pravki_npage=50; // сколько показывать правок на каждой странице при листании архива

############ логины ###########################################################################
$uc='unic_'.substr(md5($blogdir),0,5);
// strtr(trim($blogdir,"/\\"),"/\\","--"); // "blog/";; // имя переменной для кук
$db_unic="unic"; // имя базы логинов
$db_mailbox="mailbox"; // "`dnevnik`.`mailbox`"; // сервис личных сообщений
$db_rekomenda="rekomenda"; // имя базы рекомендаций
#########################################################################################

# настройки блога
$del_user_comments=0; // разрешать пользователям удалять собственные комментарии? да - 1
$comment_friend_scr=false; // true - доверить друзьям открывать и скрывать чужие и свои комментарии, false - только админу
$maxcommlevel=10; // уровень, после которого комментарии скрываются под подзагрузку
$maxcommload=10; // сколько уровней читать при подзагрузке
$enter_comentary_days = 7; // число дней, когда заметка устарела
$N_maxkomm = 20000; // когда отключать возможность комментировать
$max_comperday = 0; // максимальное число разрешенных комментариев от человека в сутки

$admin_unics=""; // вписываются через ЗАПЯТУЮ номера unic, которым выдан доступ админа

$comment_otstup=25; // добавочный отступ в пикселях от левой границы каждого комментария-ответа
$comment_pokazscr=1; // 1 - показывать скрытые комментарии словом "скрыт", 0 - не показывать
$podzamcolor='#CADFEF'; // цвет подзамочных элементов

############ антибот ###########################################################################
$antibot_pic = $include_sys."antibot_pic/";        // Путь до папки с картинками
$antibot_cash = "antibot_cash/";
$antibot_file = $hosttmp.$antibot_cash; // Путь до папки с времеными файлами
$antibot_www = $wwwtmp.$antibot_cash; // Адрес папки с времеными файлами для вэба
$antibot_C = 3;   // Сколько нужно символов
$antibot_W = 18;   // Ширина и высота символов
$antibot_H = 20;
$antibot_add2hash = $_SERVER["REMOTE_ADDR"].$hashinput;    // Прилепена для хэша
$antibot_deltime = 60*60; // удалять старые картинки через 1 час

### сайт-менеджер ##############################################################################
$db_site = "site";
$site_mod = $filehost."site_mod/"; // директория, где лежат подключаемые модули сборки сайта
$site_module = $filehost."site_module/"; // директория, где лежат подключаемые модули сборки сайта

### удобства и отладка #########################################################################
$fileget_tmp = $hosttmp."get/";

### загрузка фоток #########################################################################
// $foto_orig  оригинальные закачки не сохраняем - только обработанные фотки (small)
$foto_small="photo/";  // сюда будут писаться обработанные закачанные фотки
$foto_preview="photo/pre/"; // сюда будут писаться превьюшки закачанных фоток

$uset=array();
$uset['X']=900;
$uset['x']=150;
$uset['Q']=80;
$uset['q']=90;
$uset['dir']='';
$uset['logo']="{name} {site}";

$foto_file_small=$filehost.$foto_small;
$foto_www_small=$wwwhost.$foto_small;
$foto_res_small=600;
$foto_qality_small=85;

$foto_file_preview=$filehost.$foto_preview;
$foto_www_preview=$wwwhost.$foto_preview;
$foto_res_preview=100;
$foto_qality_preview=70;

$zopt_include=''; // старое поле include, сейчас не используется, оставил пока для совместимости
$zopt_Comment_foto_logo=chr(169)." ".chr(171)."{name}: ".$httpsite.chr(187); // подпись для фоток в комментариях
$zopt_Comment_foto_x=600; // максимальная сторона для обжимания фотки при загрузке в комментарии (600)
$zopt_Comment_foto_q=75; // качество фотки при загрузке в комментарии (75)
$zopt_Comment_media='all'; // array(all - все, no - нет, my - только админа) Какие ссылки отображать медийными объектами? (all)
$zopt_Comment_view='on'; // array(on - все, off - никакие, rul - отмеченные, load - кнопку загрузки, timeload - сперва все, затем кнопку) Как показывать ленту комментариев при загрузке страницы? (on)
$zopt_Comment_write='on'; //array(on - все, off - никто, friends-only - друзья, login-only - залогиненные, timeoff - поначалу все, login-only-timeoff - поначалу все, затем залогиненные), (on)
$zopt_Comment_screen='open'; //array(open - все открывать, screen - все прятать, friends-open - открывать друзей) Какие комментарии скрывать? (open)
$zopt_Comment_tree='1'; // array(1 - дерево ответов, 0 - гостевая книга) Схема комментариев(1)
$zopt_autoformat='p'; //array(no - нет,p - формат,pd - формат с отступом) Режим автоформатирования строк (p)
$zopt_template='blog'; //string(32) Имя шаблона. (blog)
$zopt_autokaw='auto'; //array(auto - да, no - нет) Заменять ли кавычки? (auto)

$foto_ttf=$host_design."ttf/PTC55F.ttf";
$foto_logo=chr(169)." ".chr(171).$admin_name." ".$httpsite.chr(187); // автоматическая подпись фоток
/* chr(160) nbsp chr(169) copy chr(151) mdash chr(171) chr(187) ltgt */

// настройки комментариев
$comment_autosave_count=100; // комментарии: через сколько нажатий кнопки делать автозапись
$comment_time_edit_sec=15*60; // комментарии: сколько секунд позволять редактировать отправленный комментарий (0 - вечно)
$comments_on_page=50; // сколько выводить комментариев за раз на странице

$cookiepre='unic5_'; // в случае если разные сервера, но в едином домене, то надо разносить их по именам кук
$teddyid_nodeid='0'; // номер учетки для логина через https://www.teddyid.com, получается на сайте в личном кабинете
$teddyid_secretkey=''; // секретная строка в настройках на teddyid.com

?>